####################################################################################################
# Add new user
####################################################################################################
curl -v -X POST -H 'Content-Type: application/json'  \
    -d '{"username": "user-111"}' \
    http://localhost:7070/api/v1/users | jq

####################################################################################################
# List all users (without pagination)
####################################################################################################
curl -v -X GET http://localhost:7070/api/v1/users | jq

####################################################################################################
# Get user by username
####################################################################################################
curl -v -X GET http://localhost:7070/api/v1/users/user-111 | jq

####################################################################################################
# Delete user by username
####################################################################################################
curl -v -X DELETE http://localhost:7070/api/v1/users/user-123 | jq <-- NOT WORKING

####################################################################################################
# Health
####################################################################################################
curl -v -X GET http://localhost:7071/health | jq <-- NOT WORKING

####################################################################################################
# Metrics
####################################################################################################
# Prometheus format
curl -s -X GET http://localhost:7071/metrics <-- NOT WORKING

# JSON format
curl -v -X GET -H 'Accept: application/json' http://localhost:7071/metrics | jq <-- NOT WORKING

####################################################################################################
# Load testing
####################################################################################################
wrk -t 1 -c 200 -d 30s --latency http://localhost:7070/api/v1/users/user-111

Running 30s test @ http://localhost:7070/api/v1/users/user-111
  1 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   243.86ms  141.37ms   1.20s    74.66%
    Req/Sec   848.92    461.23     2.38k    67.00%
  Latency Distribution
     50%  211.90ms
     75%  316.55ms
     90%  432.65ms
     99%  708.54ms
  25321 requests in 30.02s, 4.78MB read
Requests/sec:    843.40
Transfer/sec:    163.08KB


####################################################################################################
# Load testing (ADD new user)
####################################################################################################
wrk -t 1 -c 200 -d 30s -s add-user.lua --latency http://localhost:7070/api/v1/users

Running 30s test @ http://localhost:7070/api/v1/users
  1 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   343.31ms  115.40ms   1.24s    86.85%
    Req/Sec   589.22    179.49     1.12k    73.24%
  Latency Distribution
     50%  309.34ms
     75%  361.09ms
     90%  464.62ms
     99%  758.61ms
  17568 requests in 30.05s, 3.83MB read
Requests/sec:    584.62
Transfer/sec:    130.39KB


