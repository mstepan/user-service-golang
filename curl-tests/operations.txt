####################################################################################################
# Add new user
####################################################################################################
curl -v -X POST -H 'Content-Type: application/json'  \
    -d '{"username": "user-111"}' \
    http://localhost:7070/api/v1/users | jq

####################################################################################################
# List all users (without pagination)
####################################################################################################
curl -v -X GET http://localhost:7070/api/v1/users | jq

####################################################################################################
# Get user by username
####################################################################################################
curl -v -X GET http://localhost:7070/api/v1/users/user-111 | jq

####################################################################################################
# Delete user by username
####################################################################################################
curl -v -X DELETE http://localhost:7070/api/v1/users/user-111 | jq

####################################################################################################
# Health
####################################################################################################
curl -v -X GET http://localhost:7071/health | jq <-- NOT WORKING

####################################################################################################
# Metrics
####################################################################################################
# Prometheus format
curl -s -X GET http://localhost:7071/metrics <-- NOT WORKING

# JSON format
curl -v -X GET -H 'Accept: application/json' http://localhost:7071/metrics | jq <-- NOT WORKING

####################################################################################################
# Load testing
####################################################################################################
wrk -t 1 -c 200 -d 30s --latency http://localhost:7070/api/v1/users/user-111

Running 30s test @ http://localhost:7070/api/v1/users/user-111
  1 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     3.08ms  844.86us  11.77ms   68.25%
    Req/Sec    52.22k     2.40k   60.58k    72.67%
  Latency Distribution
     50%    3.01ms
     75%    3.60ms
     90%    4.18ms
     99%    5.44ms
  1560879 requests in 30.04s, 273.90MB read
Requests/sec:  51953.62
Transfer/sec:      9.12MB


####################################################################################################
# Load testing (ADD new user)
####################################################################################################
wrk -t 1 -c 200 -d 30s -s add-user.lua --latency http://localhost:7070/api/v1/users

Running 30s test @ http://localhost:7070/api/v1/users
  1 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     2.83ms  824.63us  22.94ms   75.04%
    Req/Sec    47.31k     3.68k   53.46k    76.25%
  Latency Distribution
     50%    2.67ms
     75%    3.24ms
     90%    3.89ms
     99%    5.06ms
  1413038 requests in 30.03s, 263.25MB read
  Non-2xx or 3xx responses: 499
Requests/sec:  47058.77
Transfer/sec:      8.77MB


